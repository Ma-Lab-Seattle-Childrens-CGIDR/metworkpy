[tox]
requires =
  tox>=4
  tox-uv>=1
env_list = lint, format, 3.{9,10,11,12,13}

[testenv]
description = run the tests with pytest
package = wheel
wheel_build_env = .pkg
deps =
    pytest>=6
    osqp>=1
    highspy>=1
commands =
    pytest {tty:--color=yes} {posargs:tests}

[testenv:lint]
description = run linters
skip_install = true
deps =
  ruff
commands = ruff check {posargs:.}

[testenv:format]
description = run format
skip_install = true
deps =
  ruff
commands = ruff format {posargs:src}
